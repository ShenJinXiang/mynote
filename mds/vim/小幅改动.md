# 小幅改动

## 操作符命令和位移

操作符命令与位移命令组合

我们知道 x 命令可以删除一个字符，配合命令记数使用 '4x'可以删除4个字符

'dw' 命令可以删除一个word，'w' 是移动一个word的位置，dw组合就是删除一个word，事实上，'d'命令可以跟任何一个位移命令，将删除从当前光标起到位移终点处的文本内容

```
To err is human. To really foul up you need a computer.
                 ------------------>
				        d4w

To err is human. you need a computer.
                -------->
				    d2e

To err is human. a computer.
```

'$' 命令是移动到行尾，'d$'命令的作用就是删除当前光标至行尾的内容，同样的 'y$'就是赋值当前光标至行尾的内容了

此类命令有一个固定的模式: 操作符命令+位移命令. 首先键入 一个操作符命令. 比如"d"是一个删除操作符. 接下来是一个位移命令 如"4l"或"w". 这样你可以以任何移动光标命令所及之处, 都是命令的作 用范围

## 改变文本
另一个操作符命令是'c'，改变命令，行为与'd'命令类似，不过在执行后会进入Insert模式，比如'cw'改变一个word，或者说，删除一个word并进入Insert模式

* 'dd'命令删除整行 'cc'命令删除整行并进入insert，不过保持原来的缩进
* 'd$'删除到行尾为止的内容，'c$'删除至行尾的内容，并进入insert模式

**快捷命令**

* x - 代表dl(删除当前光标下的字符)
* X - 代表dh(删除当前光标左边的字符)
* D - 代表d$(删除到行尾的内容)
* C - 代表c$(修改到行尾的内容)
* s - 代表cl(修改一个字符)
* S - 代表cc(修改一整行)

**替换单个字符**
'r'命令不是操作符命令，输入下一个字符替换当前光标下的字符，可以用'cl'或's'完成同样的事情，但是用'r'的话就不需要按<Esc>回道Normal模式了

'r'命令前缀一个命名记数，可以将多个字符都替换为即将输入的字符
```
There is something wrong here
                   5rx

There is something xxxxx here
```

要把一个字符替换为一个换行符使用'r<Enter>'，会删除一个字符并插入一个换行符

## 重复改动
'.'命令是vim中一个简单而强大的命令，会重复上一次作出的改动，除了'u'命令CTRL_R和冒号靠头的命令

## Visual模式
'v'命令可以进入Visual模式，移动光标以覆盖想操纵的文本范围，被选中的文本会以高粱显示，最后键入操作命令
```
This is an examination sample of visual mode
               ---------->
			       vellld

This is an exammple of visual mode
```

发出实际的更改命令之前任何时间都可以决定放弃，用<Esc>命令退出Visual模式

**选择多行**

使用'V'进入Visual模式，可以选择一整行一整行的内容，此时左右移动命令没有意义，上下位移命令则会整行选择文本

**选择文本块**
如要要选择矩形块文本进行操作，可以使用```CTRL-V```进入Visual模式，windows系统中可以使用```CTRL-q```

**到另一端**
如果已经在Visual模式下选中了一些文本，发现还要改变另一端被选中区域，可以使用'o'命令跳转到另一端，再次按'o'让光标跳转文本的这一端

## 移动文本
'd'或'x'命令删除文本时，被删除的内容还时被保存了起来，还可以用p命令将它们取出来

* 如果删除的时整行的内容，'p'命令把整个文行都放到光标下面做为单独一行
* 如果删除的是一行的部分内容(比如说一个word)，'p'命令就会把这部分文本放到当前光标后面
* 'P'命令与'p'一样取回被删除的内容，不过是把被取回的内容置于光标之前
* 可以对'p'和'p'命令使用命令记数，效果是同样的内容被取回指定的次数

**交换两个字符**

'xp'命令，删除一个字符并粘贴就可以了
```
teh     th       the
 x       p       
```

## 复制文本
要把文本内容从一处复制到另外一处，可以先删除，然后马上用'u'命令来恢复删除，在用'p'命令把它放到想要的地方去，不过可以直接用'y'命令复制一段文本到寄存器中，然后用'p'命令取回

'y'是一个操作赋命令，基于用'yw'来复制一个word，'y2w'命令复制两个word

'yy'命令复制一整行，就像'dd'是删除一整行一样

## 使用剪贴板
使用'y'和'p'命令，在命令之前附加一个 "* 

*例子：*

把一行内容复制到剪贴板:
```
"*yy"
```

要把剪贴板的内容复制过来：
```
"*p
```

## 文本对象
如果光标位于一个单次的中间，要删除这个单次，通常需要把光标移动到单次的开头然后用'dw'命令，不过可以使用更简单的方式：'daw'

```
this is some example text.
                daw

this is some text.
```

'aw'是一个文本对象，意思为：'a word'

## 替换模式
'R'命令进入replace模式，在这个模式下，每个键入的字符都会替换掉当前光标下的字符，直至键入<Esc>结束替换模式

```
This is text.
        Rinteresting.<Esc>

This is interesting.
```

## 结论
操作赋命令、位移命令和文本对象可以任意组合

|操作|说明|
|:--|:--|
|x|删除当前光标下的字符('dl'的快捷命令)|
|X|删除当前光标之前的字符('dh'的快捷命令)|
|D|删除自当前光标至行尾的内容('d$'的快捷命令)|
|dw|删除自当前光标至下一个word的开头|
|db|删除自当前光标至前一个word的开始|
|diw|删除当前光标所在的word(不包括空白字符)|
|daw|删除当前光标所在的word(包括空白字符)|
|dG|删除当前行至文件尾的内容|
|dgg|删除当前行至文件头的内容|

如果使用'c'命令代替'd'这些命令就变成更改命令。使用'y'命令就是复制
