# 存储过程

## 外层语句
```sql
DROP PROCEDURE IF EXISTS `procedure_name`;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `procedure_name` (...)
BEGIN
END
;;
DELIMITER ;;
```

例子
```sql
- --------------------
- 输入数乘以2
- --------------------
DROP PROCEDURE IF EXISTS `twice`;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `twice` (in `param1` int(11))
BEGIN 
	select (param1 * 2) as result;
END
;;
DELIMITER ;;
```

## if 语句
```sql
DROP PROCEDURE IF EXISTS `proc_if`;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `proc_if` (in `param` int(11))
BEGIN 
	declare result int(11);
	if (param > 0) then 
		set result = param;
	elseif (param < 0) then 
		set result = -param;
	else 
		set result = 0;
	end if;
	select result;
END
;;
DELIMITER ;;
```

## case 语句
```sql
DROP PROCEDURE IF EXISTS `proc_case`;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `proc_case` (in num int(12))
BEGIN
	declare result varchar(200);
	case int
	when 0 then
		set result = 'A';
	when 1 then
		set result = 'B';
	when 2 then 
		set result = 'C';
	when 3 then
		set result = 'D';
	else 
		set result = 'other';
	end case;
	select result;
END
;;
DELIMITER ;;
```

## while 语句
DROP PROCEDURE IF EXISTS `proc_while`;
DELIMITER ;;
CREATE DEFINER=`root`@`%` PROCEDURE `proc_while` (in num int(10))
BEGIN
	declare i int;
	declare result int;
	set i = 0;
	set result = 0;
	while i <= num do
		set result = result + i;
		set i = i + 1;
	end while;
	select result;
END
;;
DELIMITER ;;
